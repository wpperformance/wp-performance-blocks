{"version":3,"file":"search-box/view.js","mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,WAAW,UAAU;AACrB;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,aAAa;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,GAAG;AACH;;AAE8B;AAC9B;;;;;;;SCjKA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA;UACA,yCAAyC,wCAAwC;UACjF;UACA;UACA;;;;;UCPA;;;;;UCAA;UACA;UACA;UACA,uDAAuD,iBAAiB;UAC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","sources":["webpack://wp-performance-blocks/external module \"@wordpress/interactivity\"","webpack://wp-performance-blocks/./node_modules/throttle-debounce/esm/index.js","webpack://wp-performance-blocks/webpack/bootstrap","webpack://wp-performance-blocks/webpack/runtime/define property getters","webpack://wp-performance-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://wp-performance-blocks/webpack/runtime/make namespace object","webpack://wp-performance-blocks/./src/search-box/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param {number} delay -                  A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher)\n *                                            are most useful.\n * @param {Function} callback -               A function to be executed after delay milliseconds. The `this` context and all arguments are passed through,\n *                                            as-is, to `callback` when the throttled-function is executed.\n * @param {object} [options] -              An object to configure options.\n * @param {boolean} [options.noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds\n *                                            while the throttled-function is being called. If noTrailing is false or unspecified, callback will be executed\n *                                            one final time after the last throttled-function call. (After the throttled-function has not been called for\n *                                            `delay` milliseconds, the internal counter is reset).\n * @param {boolean} [options.noLeading] -   Optional, defaults to false. If noLeading is false, the first throttled-function call will execute callback\n *                                            immediately. If noLeading is true, the first the callback execution will be skipped. It should be noted that\n *                                            callback will never executed if both noLeading = true and noTrailing = true.\n * @param {boolean} [options.debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is\n *                                            false (at end), schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function} A new, throttled, function.\n */\nfunction throttle (delay, callback, options) {\n  var _ref = options || {},\n    _ref$noTrailing = _ref.noTrailing,\n    noTrailing = _ref$noTrailing === void 0 ? false : _ref$noTrailing,\n    _ref$noLeading = _ref.noLeading,\n    noLeading = _ref$noLeading === void 0 ? false : _ref$noLeading,\n    _ref$debounceMode = _ref.debounceMode,\n    debounceMode = _ref$debounceMode === void 0 ? undefined : _ref$debounceMode;\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false;\n\n  // Keep track of the last time `callback` was executed.\n  var lastExec = 0;\n\n  // Function to clear existing timeout\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  }\n\n  // Function to cancel next exec\n  function cancel(options) {\n    var _ref2 = options || {},\n      _ref2$upcomingOnly = _ref2.upcomingOnly,\n      upcomingOnly = _ref2$upcomingOnly === void 0 ? false : _ref2$upcomingOnly;\n    clearExistingTimeout();\n    cancelled = !upcomingOnly;\n  }\n\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    if (cancelled) {\n      return;\n    }\n\n    // Execute `callback` and update the `lastExec` timestamp.\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n    function clear() {\n      timeoutID = undefined;\n    }\n    if (!noLeading && debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`\n       * and noLeading != true.\n       */\n      exec();\n    }\n    clearExistingTimeout();\n    if (debounceMode === undefined && elapsed > delay) {\n      if (noLeading) {\n        /*\n         * In throttle mode with noLeading, if `delay` time has\n         * been exceeded, update `lastExec` and schedule `callback`\n         * to execute after `delay` ms.\n         */\n        lastExec = Date.now();\n        if (!noTrailing) {\n          timeoutID = setTimeout(debounceMode ? clear : exec, delay);\n        }\n      } else {\n        /*\n         * In throttle mode without noLeading, if `delay` time has been exceeded, execute\n         * `callback`.\n         */\n        exec();\n      }\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n  wrapper.cancel = cancel;\n\n  // Return the wrapper function.\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param {number} delay -               A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param {Function} callback -          A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                        to `callback` when the debounced-function is executed.\n * @param {object} [options] -           An object to configure options.\n * @param {boolean} [options.atBegin] -  Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                        after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                        (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n *\n * @returns {Function} A new, debounced function.\n */\nfunction debounce (delay, callback, options) {\n  var _ref = options || {},\n    _ref$atBegin = _ref.atBegin,\n    atBegin = _ref$atBegin === void 0 ? false : _ref$atBegin;\n  return throttle(delay, callback, {\n    debounceMode: atBegin !== false\n  });\n}\n\nexport { debounce, throttle };\n//# sourceMappingURL=index.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n\tstore,\n\tgetElement,\n\tgetContext,\n\tprivateApis,\n} from \"@wordpress/interactivity\";\n\nimport { throttle } from \"throttle-debounce\";\n\n/** create new directive for html */\nconst { directive } = privateApis(\n\t\"I acknowledge that using private APIs means my theme or plugin will inevitably break in the next version of WordPress.\",\n);\n\ndirective(\"html\", ({ directives: { html }, element, evaluate }) => {\n\tconst entry = html.length > 0 ? html[0] : null;\n\t// 18 november 2024, suffix default is not working anymore\n\t// const entry = html.find(({ suffix }) => suffix === \"default\");\n\tif (!entry) {\n\t\telement.props.children = null;\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst result = evaluate(entry);\n\t\telement.props.dangerouslySetInnerHTML =\n\t\t\ttypeof result === \"object\" ? null : { __html: result };\n\t} catch (e) {\n\t\telement.props.children = null;\n\t}\n});\n\n/**\n * Search call function\n */\nconst search = async ({ url, index, token, query, filters }) => {\n\tif (!url || !token || !index) {\n\t\tthrow new Error(\"Missing required parameters\");\n\t}\n\tlet data = null;\n\n\t// init body\n\tconst body = {\n\t\tq: query,\n\t\tlimit: 10,\n\t\tfacets: [\"categories\"],\n\t\tmatchingStrategy: \"frequency\",\n\t\tattributesToHighlight: [\"title\", \"excerpt\"],\n\t};\n\n\ttry {\n\t\t// add filters if any\n\t\tif (filters.length > 0) {\n\t\t\tbody.filter = [filters.map((f) => `${f.key}='${f.value}'`)];\n\t\t}\n\t\tconst response = await fetch(`${url}/indexes/${index}/search`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t},\n\t\t\tbody: JSON.stringify(body),\n\t\t});\n\t\tdata = await response.json();\n\t} catch (e) {\n\t\tthrow e;\n\t}\n\treturn data;\n};\n\nconst { state, actions } = store(\n\t\"wp-performance/search\",\n\t{\n\t\tstate: {\n\t\t\t// open or close search\n\t\t\topen: false,\n\t\t\t// search query\n\t\t\tq: \"\",\n\t\t\t// item selected for keyboard navigation\n\t\t\tselected: -1,\n\t\t\t// search results\n\t\t\thasSearch: false,\n\t\t\tresults: [],\n\t\t\tfacets: [],\n\t\t\tfilters: [],\n\t\t\tget hasFacet() {\n\t\t\t\t// return state.facets.length > 0;\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t// for display no results message\n\t\t\tget hasResults() {\n\t\t\t\treturn (\n\t\t\t\t\t!state.hasSearch || (state.hasSearch && state.results.length > 0)\n\t\t\t\t);\n\t\t\t},\n\t\t\t// facet checkbox label value\n\t\t\tget facetValue() {\n\t\t\t\tconst context = getContext();\n\t\t\t\treturn `${context.facet.key} (${context.facet.value})`;\n\t\t\t},\n\t\t\t// define if item is checked\n\t\t\tget isChecked() {\n\t\t\t\tconst { attributes } = getElement();\n\t\t\t\tconst cat = attributes[\"data-cat\"];\n\t\t\t\tconst value = attributes.value;\n\n\t\t\t\treturn state.filters.some((f) => f.key === cat && f.value === value);\n\t\t\t},\n\t\t},\n\t\tactions: {\n\t\t\t/**\n\t\t\t * Open or close\n\t\t\t */\n\t\t\topenSearch() {\n\t\t\t\tstate.open = !state.open;\n\t\t\t\tif (state.open) {\n\t\t\t\t\tactions.setFocus();\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Set focus on search input\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetFocus() {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tref.parentNode.querySelector(\".wpref-input-search\").focus();\n\t\t\t\t}, 200);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Handle key down events\n\t\t\t * @param {KeyboardEvent} e\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\thandlerKeyDown(e) {\n\t\t\t\t// key command + k\n\t\t\t\tif (e.metaKey && e.key === \"k\") {\n\t\t\t\t\tstate.open = true;\n\t\t\t\t\tactions.setFocus();\n\t\t\t\t}\n\n\t\t\t\t// key esc\n\t\t\t\tif (e.key === \"Escape\") {\n\t\t\t\t\tstate.open = false;\n\t\t\t\t}\n\n\t\t\t\tif (e.key === \"ArrowDown\" || e.key === \"ArrowUp\" || e.key === \"Enter\") {\n\t\t\t\t\tactions.selectItem(e);\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Select item from search results\n\t\t\t * @param {KeyboardEvent} e\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tselectItem(e) {\n\t\t\t\tconst { ref } = getElement();\n\t\t\t\tconst input = ref.parentNode.querySelector(\".wpref-input-search\");\n\t\t\t\tconst searchResults = ref.parentNode.querySelector(\n\t\t\t\t\t\".wpref-search-results\",\n\t\t\t\t);\n\n\t\t\t\tif (e.key === \"ArrowUp\") {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (state.selected <= 0) {\n\t\t\t\t\t\tstate.selected = -1;\n\t\t\t\t\t\treturn input.focus();\n\t\t\t\t\t}\n\t\t\t\t\tstate.selected--;\n\t\t\t\t\tsearchResults.children[state.selected].focus();\n\t\t\t\t} else if (e.key === \"ArrowDown\") {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (state.selected < searchResults.children.length - 1) {\n\t\t\t\t\t\tstate.selected++;\n\t\t\t\t\t}\n\n\t\t\t\t\tsearchResults.children[state.selected].focus();\n\t\t\t\t} else if (e.key === \"Enter\") {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsearchResults.children[state.selected].click();\n\t\t\t\t}\n\t\t\t},\n\t\t\taddFilter() {\n\t\t\t\tconst { ref } = getElement();\n\n\t\t\t\tconst cat = ref.dataset.cat;\n\t\t\t\tconst value = ref.value;\n\n\t\t\t\tif (ref.checked) {\n\t\t\t\t\tstate.filters.push({\n\t\t\t\t\t\tkey: cat,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tstate.filters = state.filters.filter((f, k) => {\n\t\t\t\t\t\treturn f.key !== cat && f.value !== value;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tactions.query();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Handle search input change\n\t\t\t */\n\t\t\tsearch: throttle(700, (e) => {\n\t\t\t\tstate.q = e.target.value;\n\t\t\t\tactions.query();\n\t\t\t}),\n\t\t\t/**\n\t\t\t * Query search\n\t\t\t */\n\t\t\tasync query() {\n\t\t\t\tstate.facets = [];\n\t\t\t\tif (state.q === \"\") {\n\t\t\t\t\tstate.results = [];\n\t\t\t\t\tstate.filters = [];\n\t\t\t\t\tstate.hasSearch = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst data = await search({\n\t\t\t\t\turl: state.search_url,\n\t\t\t\t\tindex: state.index_name,\n\t\t\t\t\ttoken: state.search_key,\n\t\t\t\t\tquery: state.q,\n\t\t\t\t\tfilters: state.filters,\n\t\t\t\t});\n\t\t\t\tstate.index = -1;\n\t\t\t\tstate.hasSearch = true;\n\t\t\t\tstate.results = data.hits;\n\t\t\t\t// format object to array\n\t\t\t\tstate.facets = Object.keys(data.facetDistribution).map((key) => ({\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue: Object.keys(data.facetDistribution[key]).map((k) => ({\n\t\t\t\t\t\tparentKey: key,\n\t\t\t\t\t\tkey: k,\n\t\t\t\t\t\tvalue: data.facetDistribution[key][k],\n\t\t\t\t\t})),\n\t\t\t\t}));\n\t\t\t},\n\t\t},\n\t},\n\t// lock store to avoid communication with other blocks\n\t{ lock: true },\n);\n"],"names":["store","getElement","getContext","privateApis","throttle","directive","directives","html","element","evaluate","entry","length","props","children","result","dangerouslySetInnerHTML","__html","e","search","url","index","token","query","filters","Error","data","body","q","limit","facets","matchingStrategy","attributesToHighlight","filter","map","f","key","value","response","fetch","method","headers","Authorization","JSON","stringify","json","state","actions","open","selected","hasSearch","results","hasFacet","hasResults","facetValue","context","facet","isChecked","attributes","cat","some","openSearch","setFocus","ref","setTimeout","parentNode","querySelector","focus","handlerKeyDown","metaKey","selectItem","input","searchResults","preventDefault","click","addFilter","dataset","checked","push","k","target","search_url","index_name","search_key","hits","Object","keys","facetDistribution","parentKey","lock"],"sourceRoot":""}